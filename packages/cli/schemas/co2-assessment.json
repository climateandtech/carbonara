{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "assessment questionnaire Schema",
  "description": "Schema for CO2 impact assessment questionnaire data",
  "type": "object",
  "required": [
    "projectOverview",
    "infrastructure",
    "development",
    "features",
    "sustainabilityGoals"
  ],
  "properties": {
    "projectOverview": {
      "type": "object",
      "description": "Basic project information",
      "required": [
        "expectedUsers",
        "expectedTraffic",
        "targetAudience",
        "projectLifespan"
      ],
      "properties": {
        "expectedUsers": {
          "type": "string",
          "enum": [
            "fewer-than-50",
            "500-to-5000",
            "5000-to-50000",
            "over-50000",
            "unknown"
          ],
          "description": "Expected number of users"
        },
        "expectedTraffic": {
          "type": "string",
          "enum": ["low", "medium", "high", "very-high"],
          "description": "Expected traffic level"
        },
        "targetAudience": {
          "type": "string",
          "enum": ["local", "national", "global"],
          "description": "Geographic scope of target audience"
        },
        "projectLifespan": {
          "type": "integer",
          "minimum": 1,
          "description": "Project lifespan in months"
        }
      }
    },
    "infrastructure": {
      "type": "object",
      "description": "Infrastructure and hosting details",
      "required": [
        "hostingType",
        "serverLocation",
        "dataStorage",
        "backupStrategy"
      ],
      "properties": {
        "hostingType": {
          "type": "string",
          "enum": ["shared", "vps", "dedicated", "cloud", "hybrid"],
          "description": "Type of hosting solution"
        },
        "cloudProvider": {
          "type": "string",
          "description": "Cloud provider name (if applicable)"
        },
        "serverLocation": {
          "type": "string",
          "enum": ["same-continent", "different-continent", "global-cdn"],
          "description": "Server location relative to users"
        },
        "dataStorage": {
          "type": "string",
          "enum": ["minimal", "moderate", "heavy", "massive"],
          "description": "Data storage requirements"
        },
        "backupStrategy": {
          "type": "string",
          "enum": ["none", "daily", "real-time", "weekly"],
          "description": "Backup strategy"
        }
      }
    },
    "development": {
      "type": "object",
      "description": "Development process details",
      "required": [
        "teamSize",
        "developmentDuration",
        "cicdPipeline",
        "testingStrategy",
        "codeQuality"
      ],
      "properties": {
        "teamSize": {
          "type": "integer",
          "minimum": 1,
          "description": "Size of development team"
        },
        "developmentDuration": {
          "type": "integer",
          "minimum": 1,
          "description": "Development duration in months"
        },
        "cicdPipeline": {
          "type": "boolean",
          "description": "Whether CI/CD pipeline is used"
        },
        "testingStrategy": {
          "type": "string",
          "enum": ["minimal", "moderate", "comprehensive"],
          "description": "Testing strategy level"
        },
        "codeQuality": {
          "type": "string",
          "enum": ["basic", "good", "excellent"],
          "description": "Code quality standards"
        }
      }
    },
    "features": {
      "type": "object",
      "description": "Project features that impact CO2",
      "required": [
        "realTimeFeatures",
        "mediaProcessing",
        "aiMlFeatures",
        "blockchainIntegration",
        "iotIntegration"
      ],
      "properties": {
        "realTimeFeatures": {
          "type": "boolean",
          "description": "Real-time features (WebSocket, live updates)"
        },
        "mediaProcessing": {
          "type": "boolean",
          "description": "Media processing capabilities"
        },
        "aiMlFeatures": {
          "type": "boolean",
          "description": "AI/ML features"
        },
        "blockchainIntegration": {
          "type": "boolean",
          "description": "Blockchain integration"
        },
        "iotIntegration": {
          "type": "boolean",
          "description": "IoT integration"
        }
      }
    },
    "sustainabilityGoals": {
      "type": "object",
      "description": "Sustainability objectives",
      "required": [
        "carbonNeutralityTarget",
        "greenHostingRequired",
        "optimizationPriority",
        "budgetForGreenTech"
      ],
      "properties": {
        "carbonNeutralityTarget": {
          "type": "boolean",
          "description": "Whether carbon neutrality is a target"
        },
        "greenHostingRequired": {
          "type": "boolean",
          "description": "Whether green hosting is required"
        },
        "optimizationPriority": {
          "type": "string",
          "enum": ["performance", "sustainability", "balanced"],
          "description": "Primary optimization priority"
        },
        "budgetForGreenTech": {
          "type": "string",
          "enum": ["none", "low", "medium", "high"],
          "description": "Budget allocation for green technology"
        }
      }
    },
    "hardwareConfig": {
      "type": "object",
      "description": "Hardware configuration for CPU monitoring and Impact Framework tools",
      "required": [
        "cpuTdp",
        "totalVcpus",
        "allocatedVcpus",
        "gridCarbonIntensity"
      ],
      "properties": {
        "cpuTdp": {
          "type": "number",
          "minimum": 1,
          "maximum": 500,
          "description": "CPU Thermal Design Power (TDP) in watts",
          "default": 100
        },
        "totalVcpus": {
          "type": "number",
          "minimum": 1,
          "maximum": 128,
          "description": "Total vCPUs available on your system",
          "default": 8
        },
        "allocatedVcpus": {
          "type": "number",
          "minimum": 1,
          "maximum": 64,
          "description": "vCPUs allocated to your application",
          "default": 2
        },
        "gridCarbonIntensity": {
          "type": "number",
          "minimum": 1,
          "maximum": 2000,
          "description": "Grid carbon intensity for your location (gCO2e/kWh)",
          "default": 750
        }
      }
    },
    "monitoringConfig": {
      "type": "object",
      "description": "Monitoring and analysis preferences for Impact Framework tools",
      "required": [
        "enableCpuMonitoring",
        "enableE2eMonitoring",
        "scrollToBottom",
        "firstVisitPercentage"
      ],
      "properties": {
        "enableCpuMonitoring": {
          "type": "boolean",
          "description": "Enable CPU utilization monitoring during web analysis",
          "default": true
        },
        "enableE2eMonitoring": {
          "type": "boolean",
          "description": "Enable CPU monitoring during E2E test execution",
          "default": false
        },
        "e2eTestCommand": {
          "type": "string",
          "description": "Command to run your E2E tests (e.g., 'npx cypress run', 'npm run test:e2e')"
        },
        "scrollToBottom": {
          "type": "boolean",
          "description": "Scroll to bottom of pages during web analysis (for more accurate measurements)",
          "default": false
        },
        "firstVisitPercentage": {
          "type": "number",
          "minimum": 0,
          "maximum": 1,
          "description": "Percentage of first-time visitors (0.0 to 1.0)",
          "default": 0.9
        }
      }
    }
  }
}
