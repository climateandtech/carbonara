rules:
  - id: gci91-csharp-use-where-before-orderby-use-filter-before-sorted
    languages:
      - csharp
    severity: WARNING
    message: Use Where() before OrderBy() in LINQ queries for better performance.
      Filter first, then sort.
    patterns:
      - pattern-either:
          - pattern: $COLLECTION.OrderBy(...).Where(...)
          - pattern: $COLLECTION.OrderByDescending(...).Where(...)
          - pattern: $COLLECTION.OrderBy(...).ThenBy(...).Where(...)
          - pattern: $COLLECTION.OrderBy(...).ThenByDescending(...).Where(...)
          - pattern: $COLLECTION.OrderByDescending(...).ThenBy(...).Where(...)
          - pattern: $COLLECTION.OrderByDescending(...).ThenByDescending(...).Where(...)
